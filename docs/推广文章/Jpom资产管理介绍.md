---
title: å¸¦æ‚¨äº†è§£èƒ½æ›¿ä»£ Jenkins çš„ Jpom ä¸­çš„èµ„äº§ç®¡ç†å’Œ 2.10.x æ–°ç‰¹æ€§
date: 2023-03-20 13:31:38
permalink: /pages/7f1127/
categories:
  - docs
  - æ¨å¹¿æ–‡ç« 
tags:
  - 
---

## Jpom ä»‹ç» ğŸ“¢

Jpom æ˜¯ä¸€æ¬¾ç®€è€Œè½»çš„ä½ä¾µå…¥å¼åœ¨çº¿æ„å»ºã€è‡ªåŠ¨éƒ¨ç½²ã€æ—¥å¸¸è¿ç»´ã€é¡¹ç›®è¿ç»´ç›‘æ§è½¯ä»¶

Jpom ä» `18 å¹´`åˆæ­£å¼å¼€æºè‡³ä»Šå·²ç»è¿­ä»£äº† `120+ ä¸ª`å°ç‰ˆæœ¬ï¼Œ`2 ä¸ª`å¤§ç‰ˆæœ¬ï¼Œ`9+ ä¸ª`æ¬¡è¦ç‰ˆæœ¬ã€‚

å·²ç»åœ¨ä¸­å°å›¢é˜Ÿä¸­å¾—åˆ°äº†å¯è¡Œæ€§çš„éªŒè¯ï¼Œç›®å‰æœ‰é•¿æœŸè®¸å¤šå¹¶ç¨³å®šä½¿ç”¨ Jpom æ¥è¿ç»´é¡¹ç›®çš„å…¬å¸ä»¥åŠå›¢é˜Ÿäº†ï¼Œå……åˆ†è¯æ˜ Jpom æ˜¯èƒ½ç»™ç”¨æˆ·å¸¦æ¥ä¾¿åˆ©å’Œå¯é æ€§ã€‚

ğŸ“¢ ä¸šç•Œå†…å·²ç»æœ‰ä½¿ç”¨ **Jpom** æ¥ä»£æ›¿ ~~Jenkins~~ çš„ä¼ è¨€äº† ğŸ¤©

![img.png](/images/tutorial/2.10.x-article/img.png)

![img_1.png](/images/tutorial/2.10.x-article/img_1.png)

![img_2.png](/images/tutorial/2.10.x-article/img_2.png)

![img_3.png](/images/tutorial/2.10.x-article/img_3.png)

## å‰è¨€ ğŸ§©

Jpom 2.10.x æ¬¡è¦ç‰ˆæœ¬ä¸»è¦æ˜¯è§£å†³ä¸€ä¸‹é—ç•™é—®é¢˜ã€ä¼˜åŒ–éƒ¨åˆ†ä¸æ˜“ç”¨çš„åŠŸèƒ½ã€‚

2.10.x ä»` 2022å¹´12æœˆ19å·`å‘å¸ƒç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼ˆ2.10.1ï¼‰ åˆ°ç°åœ¨å·²ç»å‘å¸ƒ 2.10.35 ç´¯ç§¯å‘å¸ƒäº† `35 ä¸ª+`å°ç‰ˆæœ¬

æˆ‘ä»¬ä¸€èµ·å›é¡¾ä¸€ä¸‹åœ¨è¿™ `35 ä¸ª+`å°ç‰ˆæœ¬ä¸­ä¸»è¦æ›´æ–°äº†å•¥ï¼Ÿ

1. ä¼˜åŒ–äº†é¡¹ç›®æ—¥å¿—æ–‡ä»¶é…ç½®ï¼ˆæ”¯æŒè‡ªå®šä¹‰é…ç½®æ—¥å¿—åŸºæœ¬ï¼‰
2. é¡¹ç›®è¿è¡Œçš„ç›®å½•ç»“æ„æ›´æ ‡å‡†åŒ–ã€é…ç½®å±æ€§æ ‡å‡†åŒ–
3. `2.10.9` æ•°æ®åº“å¼€å§‹æ”¯æŒäº† **mysql** ï¼ˆå¹¶ä¸”èƒ½å°† h2 æ•°æ®åº“å†…å®¹è¿ç§»åˆ° mysqlï¼‰
4. `2.10.10` ä¸Šä¼ æ–‡ä»¶æ”¯æŒ**åˆ†ç‰‡ä¸Šä¼ **ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒå¤§æ–‡ä»¶ä¸Šä¼ è€—å†…å­˜å•¦
5. æ„å»ºäº§ç‰©æ¨¡ç³ŠåŒ¹é…è§„åˆ™ä¼˜åŒ–æ”¯æŒæ›´å¤šæ–¹å¼çš„è§„åˆ™
6. æ–°å¢èµ„äº§ç®¡ç†ï¼š**æœºå™¨ç®¡ç†**ã€**SSH ç®¡ç†**ã€**Docker ç®¡ç†**
7. æ”¯æŒæ›´è¯¦ç»†çš„æœºå™¨ã€SSH åŸºç¡€ä¿¡æ¯ç›‘æ§
8. ä»¤ç‰Œå¯¼å…¥ä»“åº“æ”¯æŒäº†ï¼š`gitea`ã€`gogs`
9. æ–°å¢æ–‡ä»¶ç®¡ç†ä¸­å¿ƒæ¥ç»Ÿä¸€å­˜å‚¨ã€å‘å¸ƒæ–‡ä»¶
10. DSL é¡¹ç›®æ”¯æŒè§£æå¤š PIDã€å¤šç«¯å£
11. æ•´åˆäº†èœå•åï¼ˆåˆå¹¶ä¼˜åŒ–èœå•ã€èŠ‚ç‚¹ç®¡ç†æ›´åä¸ºé€»è¾‘èŠ‚ç‚¹ï¼‰
12. ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ã€docker æ¨¡æ¿æ”¯æŒè‡ªå®šä¹‰é…ç½®
13. ç”¨æˆ·è‡ªå®šä¹‰å·¥ä½œç©ºé—´æ’åºã€å¤‡æ³¨åˆ«å
14. æ›´å¤šä¼˜åŒ–ã€å°å˜åŠ¨æ›´æ–°æœŸå¾…æ‚¨æ¥å‘ç°

### è‡´è°¢ ğŸ¤

> åœ¨ 2.10.x ç‰ˆæœ¬ä¸­æˆ‘ä»¬è¦ç‰¹åˆ«æ„Ÿè°¢å‡ ä¸ªå¤§ä½¬ç§¯æçš„ä¸º Jpom åé¦ˆé—®é¢˜ï¼Œæä¾›é—®é¢˜è§£å†³æ€è·¯

- [@å¼ é£é¸¿](https://gitee.com/zhangfeihong_597)
- [@é…±æ€»](https://gitee.com/autools/)
- [@loyal](https://gitee.com/Mr_loyal)
- [@å¤§ç°ç°å¤§](https://gitee.com/linjianhui)
- [@çˆ±ç³ç³çœŸæ˜¯å¤ªå¥½äº†](https://gitee.com/qiqi513_admin)
- æ›´å¤šçš„ç¾¤å‹

æ’åä¸åˆ†å…ˆåé¡ºåº

## æ•´ä½“é¢„è§ˆå›¾ ğŸ’»

> æˆ‘ä»¬å…ˆæ¥å‡ å¼ æ–°ç‰ˆæœ¬çš„æ•´ä½“èœå•æˆªå›¾

å·¥ä½œç©ºé—´ä¸­çš„åŠŸèƒ½é¢„è§ˆå›¾

![img_4.png](/images/tutorial/2.10.x-article/img_4.png)


ç³»ç»Ÿç®¡ç†åŠŸèƒ½é¢„è§ˆå›¾

![img_5.png](/images/tutorial/2.10.x-article/img_5.png)

èŠ‚ç‚¹ç®¡ç†åŠŸèƒ½é¢„è§ˆå›¾

![img_10.png](/images/tutorial/2.10.x-article/img_10.png)

### æ€»ç»“ ğŸ—’

é€šè¿‡æˆªå›¾å¯ä»¥çœ‹å‡ºï¼šæœ‰å–æ¶ˆçš„ã€æ–°å¢ã€æ›´åç­‰å˜åŠ¨

**å–æ¶ˆ**

1. èŠ‚ç‚¹ç®¡ç†ï¼šå’Œ`èŠ‚ç‚¹&é¡¹ç›®`ç®¡ç†åˆå¹¶
2. åˆ†å‘ç®¡ç†ï¼šå’Œ`èŠ‚ç‚¹&é¡¹ç›®`ç®¡ç†åˆå¹¶

**æ–°å¢**

1. æ–‡ä»¶ç®¡ç†
2. å…¶ä»–ç®¡ç†
3. èµ„äº§ç®¡ç†

**æ›´å**

1. ç³»ç»Ÿç®¡ç†ï¼ˆæœåŠ¡ç«¯ï¼‰å˜æ›´ä¸ºï¼šæœåŠ¡ç«¯é…ç½®
2. ç³»ç»Ÿç®¡ç†ï¼ˆæ’ä»¶ç«¯ï¼‰å˜æ›´ä¸ºï¼šæ’ä»¶ç«¯é…ç½®
3. èŠ‚ç‚¹ç®¡ç†å˜æ›´ä¸ºï¼šé€»è¾‘èŠ‚ç‚¹

### æ–‡ä»¶ç®¡ç† ğŸ“¦

æ–°ç‰ˆæœ¬ä¸­æ–°äº†æ–‡ä»¶ç®¡ç†ï¼Œå¯ä»¥ä½¿ç”¨æ–‡ä»¶ç®¡ç†å¿«æ·å°†æ–‡ä»¶åˆ†å‘åˆ°ç›®æ ‡æœºå™¨å¹¶æ‰§è¡Œç›¸åº”çš„è„šæœ¬ã€‚
å¯ä»¥å®ç°æœåŠ¡å™¨åŸºç¡€ç¯å¢ƒçš„ä¸€é”®å®‰è£…ï¼Œç»Ÿä¸€æ‰§è¡Œå‘½ä»¤è„šæœ¬ã€‚

**ğŸ æ‚¨æƒ³ä¸ºç¦»çº¿æœåŠ¡å™¨ç»Ÿä¸€å®‰è£… jdkã€nginxã€phpã€docker é‚£ä¹ˆ Jpom çš„æ–‡ä»¶ç®¡ç†åŠŸèƒ½æ˜¯ä¸é”™çš„é€‰æ‹©**

## èµ„äº§ç®¡ç† âš™

æ–°ç‰ˆæœ¬ä¸­çš„èµ„äº§ç®¡ç†ä¸»è¦æ˜¯è§£å†³äº†åŒä¸€ä¸ªèµ„æºï¼ˆç‰©ç†èŠ‚ç‚¹ã€SSHã€dockerï¼‰è·¨å·¥ä½œç©ºé—´ä¸æ–¹ä¾¿ç®¡ç†ã€‚

**æ—§ç‰ˆæœ¬ï¼š** éœ€è¦åœ¨å·¥ä½œç©ºé—´ä¸‹åˆ›å»ºèµ„æºï¼ˆç‰©ç†èŠ‚ç‚¹ã€SSHã€dockerï¼‰ï¼Œä½†æ˜¯åˆ›å»ºçš„èµ„æºåªèƒ½åœ¨å½“å‰å·¥ä½œç©ºé—´ä¸­ä½¿ç”¨ï¼Œå¦‚æœæƒ³åœ¨å…¶ä»–å·¥ä½œç©ºé—´ä¸­ä½¿ç”¨åˆ™éœ€è¦åœ¨å¦ä¸€ä¸ªå·¥ä½œç©ºé—´ä¸­é‡å¤åˆ›å»ºèµ„æºçš„æ­¥éª¤
å¦‚æ­¤ä¸æ–¹ä¾¿èµ„æºè¾ƒå¤šï¼Œå·¥ä½œç©ºé—´åˆ’åˆ†è¾ƒç»†çš„æƒ…å†µä¸‹æ¥çµæ´»ç®¡ç†èµ„äº§èµ„æº


**æ–°ç‰ˆæœ¬ï¼š** åŒä¸€ä¸ªèµ„æºåªéœ€è¦åœ¨èµ„äº§ç®¡ç†ä¸­åˆ›å»ºä¸€æ¬¡å³å¯å®Œæˆå¿«æ·åˆ†é…åˆ°å¤šä¸ªå·¥ä½œç©ºé—´ï¼Œä»¥åŠæŸ¥çœ‹èµ„äº§ä»¥åŠè¢«åˆ†é…åˆ°å“ªé‡Œå·¥ä½œç©ºé—´ä¸­ã€‚æ–°ç‰ˆæœ¬ä¹Ÿå¯¹èµ„äº§æ–°å¢äº†åŸºç¡€çŠ¶æ€ç›‘æ§

### æœºå™¨èµ„äº§è¯¦æƒ…

æ–°ç‰ˆæœ¬ä¸­æˆ‘ä»¬å¯¹æœºå™¨èµ„äº§åšäº†æ›´å‡†ç¡®çš„æœåŠ¡çŠ¶æ€ç›‘æ§

æœåŠ¡å™¨çš„ CPUã€å†…å­˜ã€ç¡¬ç›˜ã€ç½‘ç»œæµé‡ã€æ–‡ä»¶ç³»ç»Ÿã€ç¡¬ç›˜ã€ç½‘å¡éƒ½æ”¯æŒå®æ—¶æŸ¥çœ‹

![img_6.png](/images/tutorial/2.10.x-article/img_6.png)

![img_7.png](/images/tutorial/2.10.x-article/img_7.png)


> æ³¨æ„ï¼šæ·»åŠ èŠ‚ç‚¹å·²ç»å˜æ›´ä¸ºæ·»åŠ æœºå™¨å•¦ï¼ˆèµ„äº§ç®¡ç†ä¸­æ·»åŠ æœºå™¨ï¼‰

### SSH èµ„äº§åˆ—è¡¨

SSH è¿™é‡Œåœ¨æ–°ç‰ˆæœ¬ä¸­æˆ‘ä»¬æ”¯æŒå¯¹ SSH çš„è¿æ¥çŠ¶æ€å’Œ SSH æœåŠ¡ç«¯çš„åŸºç¡€ä¿¡æ¯ç›‘æ§

![img_8.png](/images/tutorial/2.10.x-article/img_8.png)

![img_11.png](/images/tutorial/2.10.x-article/img_11.png)

### Docker èµ„äº§åˆ—è¡¨

æ–°ç‰ˆæœ¬ä¸­ä½¿ç”¨ docker èµ„äº§æ¥ç»Ÿä¸€ç®¡ç† docker + docker é›†ç¾¤

![img_9.png](/images/tutorial/2.10.x-article/img_9.png)


## æ•°æ®åº“ä½¿ç”¨ mysql ğŸ’¾

åœ¨ä¹‹å‰ç‰ˆæœ¬ä¸­ Jpom ä¸€è‡´æ˜¯ä½¿ç”¨ h2 æ•°æ®åº“æ¥å­˜å‚¨æ•°æ®ï¼Œéƒ¨åˆ†ç”¨æˆ·æå‡ºæœŸæœ›ä½¿ç”¨ mysql æ•°æ®åº“æ¥å­˜å‚¨è¿™æ ·å¯ä»¥æ›´å¥½çš„ä¿è¯æ•°æ®ç¨³å®šã€‚

åœ¨æ–°ç‰ˆæœ¬ä¸­æˆ‘ä»¬æ”¯æŒäº†ä½¿ç”¨ mysql æ•°æ®åº“å­˜å‚¨

é…ç½®æ–¹å¼å¦‚ä¸‹ï¼š

ä¿®æ”¹æœåŠ¡ç«¯é…ç½®æ–‡ä»¶`conf/application.yml`ï¼š

```yaml
jpom:
  db:
    # ä¿®æ”¹ jpom.db.mode ä¸º MYSQLï¼Œå¦‚æœé…ç½®åˆ™æ–°å¢é…ç½®å³å¯
    mode: MYSQL
    # ä¿®æ”¹ mysql çš„ jdbc åœ°å€( jdbc:mysql://127.0.0.1:3306/jpom?useUnicode=true&characterEncoding=UTF-8&useSSL=false)
    url: jdbc:mysql://127.0.0.1:3306/jpom?useUnicode=true&characterEncoding=UTF-8&useSSL=false
    # ä¿®æ”¹ jpom.db.user-name ä¸ºå¯¹åº” mysql è´¦æˆ·
    user-name: jpom
    # ä¿®æ”¹ jpom.db.user-pwd ä¸ºå¯¹åº” mysql å¯†ç 
    user-pwd: dbpwd
```

å¦‚æœæ‚¨éœ€è¦è¿ç§»ä¹‹å‰ h2 æ•°æ®åº“ä¸­çš„æ•°æ®åˆ° mysqlï¼ˆéœ€è¦å…ˆå°† mysql çš„è¿æ¥ä¿¡æ¯é…ç½®å¥½åæ‰èƒ½è¿ç§»ï¼‰

```shell
bash ./bin/Server.sh restart -15 --h2-migrate-mysql --h2-user=jpom --h2-pass=jpom
```

[å®Œæ•´çš„æ“ä½œè¯´æ˜ https://jpom.top/pages/4cfb46/](https://jpom.top/pages/4cfb46/)

## èµèµæ”¯æŒ â¤ï¸

éšç€ç”¨æˆ·å¢åŠ ï¼Œéœ€è¦ååŠ©è§£å†³çš„é—®é¢˜ä¹Ÿå¤šç§å¤šæ ·ã€ç”¨æˆ·ç¯å¢ƒã€ä¸šåŠ¡åœºæ™¯ä¹Ÿæ˜¯å¤šå˜çš„ï¼Œä¸ºäº†èƒ½ç»™ç”¨æˆ·æä¾› **ä¼˜è´¨**ã€**å‡†ç¡®** çš„ **ç–‘éš¾é—®é¢˜** è§£ç­”æˆ‘ä»¬æ¨å‡ºèµèµå’¨è¯¢æœåŠ¡

æ‚¨å¯ä»¥åˆ° [https://jpom.top/pages/praise/](https://jpom.top/pages/praise/) é€‰æ‹©åˆé€‚ä½ çš„èµèµæœåŠ¡æ–¹æ¡ˆ

## æœªæ¥çš„è·¯ ğŸš€

æˆ‘ä»¬ä¼šé•¿æœŸåšæŒå»å®Œå–„è¿™ä¸ªé¡¹ç›®ï¼Œå¸Œæœ›å¯ä»¥è®© Jpom å¸®åŠ©åˆ°æ›´å¤šçš„ä¸­å°å›¢é˜Ÿçš„å¼€å‘è€…ã€è¿ç»´ã€å…¬å¸

`TODO` æˆ‘ä»¬å³å°†æ”¯æŒçš„åŠŸèƒ½åˆ—è¡¨ï¼š

- æ’ä»¶ç«¯é€šè®¯æ”¯æŒæ¨é€æ–¹å¼
- ç”¨æˆ·ä½“ç³»æ”¯æŒæ¥å…¥ç¬¬ä¸‰æ–¹ç³»ç»Ÿ
- æ„å»ºæ”¯æŒæµæ°´çº¿æ¨¡å¼
- å…¶ä»–åŠŸèƒ½ç»†èŠ‚ä¼˜åŒ–
- æ›´å¤šéœ€æ±‚æ‚¨å¯ä»¥æ¥æ

ä¸Šè¿°åŠŸèƒ½æ•¬è¯·æœŸå¾…å¥¥

å¦‚æœæ‚¨è¿˜æœªåŠ å…¥æˆ‘ä»¬ç¤¾ç¾¤æ‚¨å¯ä»¥ç‚¹å‡»ä¸‹é¢è¿æ¥æŸ¥çœ‹åŠ å…¥ç¤¾ç¾¤æ–¹å¼ï¼š[https://jpom.top/pages/praise/join/](https://jpom.top/pages/praise/join/)

## Jpom é“¾æ¥ âœˆ

å®˜ç½‘ï¼š[https://jpom.top/](https://jpom.top/)

Gitee: [https://gitee.com/dromara/Jpom](https://gitee.com/dromara/Jpom)

Github: [https://github.com/dromara/Jpom](https://github.com/dromara/Jpom)

å¸¸è§é—®é¢˜ï¼š[https://jpom.top/pages/FQA/](https://jpom.top/pages/FQA/)

åŠ å…¥ç¤¾ç¾¤ï¼š[https://jpom.top/pages/praise/join/](https://jpom.top/pages/praise/join/)

èµèµ&æ”¯æŒï¼š[https://jpom.top/pages/praise/](https://jpom.top/pages/praise/)