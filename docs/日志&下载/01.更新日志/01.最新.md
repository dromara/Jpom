---
title: 2.11.x-release
date: 2024-01-12 14:04:53
permalink: /pages/changelog/new/
categories:
  - docs
  - 更新日志
  - 更新说明
tags:
  - 2.11.x
---


## 2.11.0 (2024-01-12)

### 🐣 新增功能

1. 【all】新增 **项目支持软链其他项目（代替项目副本）**
2. 【server】新增 **工作空间管理中新增概括总览页面、资产总览统计**
3. 【server】升级 **页面 UI 组件、VUE 版本升级到最新（支持配置浅色、深色主题、左边菜单主题）**
4. 【all】新增 **孤独数据管理（查看孤独数据、修正孤独数据）**（感谢[@陈旭](https://gitee.com/chenxu8989) [Gitee issues I8UNXZ](https://gitee.com/dromara/Jpom/issues/I8UNXZ)）
5. 【server】新增 节点分发可以指定构建历史产物发布
6. 【server】新增 节点分发可以指定文件中心发布
7. 【server】新增 DSL 项目新增 reload 事件（可以开启文件变动触发）
8. 【server】新增 静态文件授权服务端指定目录到工作空间来管理（分发）(感谢@*斌)
9. 【server】新增 节点分发可以指定静态文件发布
10. 【server】修复 没有工作空间权限时页面循环跳转（感谢[@王先生](https://gitee.com/whz_gmg1) [Gitee issues I8RR01](https://gitee.com/dromara/Jpom/issues/I8RR01)）
11. 【all】优化 授权目录判断逻辑
12. 【agent】取消 插件端授权目录关闭包含判断(`jpom.whitelist.check-starts-with`)
13. 【server】优化 触发器清理优化、删除用户主动删除关联触发器
14. 【server】优化 DSL 项目控制台支持快捷编辑节点脚本（查看流程信息）
15. 【server】修复 项目触发器无法调用

### 🐞 解决BUG、优化功能

1. 【all】下架 **全面下架项目副本功能（请使用 DSL 模式或者软链项目代替）**
2. 【all】下架 **全面节点证书管理功能（请使用工作空间证书代替）**
3. 【all】下架 **全面架节点 NGINX 管理功能（请使用 DSL 模式代替）**
4. 【server】优化 **构建编辑页面交互、编辑器样式、DSL 配置样式**
5. 【server】优化 **节点管理仅保留项目管理、脚本管理、脚本日志（其他功能迁移到机器资产管理）**
6. 【all】优化 查看插件端和服务端的系统日志 websocket 地址
7. 【server】优化 监控机器系统负载保留2位小数
8. 【server】下架 取消节点管理员权限
9. 【server】修复 文件变动触发器不生效的问题
10. 【all】优化 项目操作接口合并（4 合 1）
11. 【server】优化 配置授权目录需要使用到绝对路径
12. 【server】优化 重新同步节点项目、节点脚本缓存交互
13. 【server】优化 SSH 脚本执行模板独立（`/exec/template.sh` -> `/ssh/template.sh`）
14. 【server】优化 服务端脚本支持加载脚本模板来实现自动加载部分环境变量
15. 【all】优化 关闭 Process 方式
16. 【server】优化 支持批量删除构建信息（感谢@奇奇）
17. 【server】修复 删除项目、删除分发检查关联构建失败问题
18. 【all】优化 日志记录器提升日志记录性能
19. 【server】优化 取消/停止构建采用异常来打断子进程
20. 【server】修复 本地构建无法取消
21. 【server】修复 服务端脚本触发器、节点脚本触发器提示找不到用户（感谢@LYY）
22. 【server】修复 部分低频功能无法正常使用（项目备份文件管理等）
23. 【server】修复 部分执行异常未输出到操作日志文件中（感谢@闫淼淼）
24. 【server】优化 系统Git拉取代码时，强制云端最新代码覆盖本地代码
25. 【agent】优化 插件端 java 项目启动支持读取环境变量
26. 【agent】修复 插件端环境变量值获取异常
27. 【server】优化 本地 git 联动严格执行开关
28. 【server】修复 登录账户未跳转配置的第一个工作空间（未遵循自定义配置）
29. 【server】修复 部分操作构建环境变量丢失（保存并构建、后台构建、直接构建）
30. 【agent】优化 插件端自由脚本（分发文件脚本）大小限制调整为 5M（感谢@九問）

### ⚠️ 注意

1. 全面下架项目副本功能（请使用 DSL 模式或者软链项目代替）如果您当前使用到此功能请先手动备份相关数据
2. 升级后项目副本数据会被人工或者系统更新项目数据自动删除（请一定提前做好备份操作）
3. 全面下架节点证书管理功能（请使用工作空间证书代替）如果您当前使用到此功能请先手动备份相关数据
4. 全面下架全下架节点 NGINX 管理功能（请使用 DSL 模式代替）如果您当前使用到此功能请先手动备份相关数据

>❓ 为什么要下架上述功能：由于版本迭代已经有更好的新功能可以代替之前旧功能，并且新功能从另一种角度更方便。下架也是为了我们后续版本维护迭代更高效

------

1. 如果您配置了授权目录但是保存项目报错您可以尝试重新报错一下授权目录来自动修复授权目录配置数据
2. 项目控制台日志默认路径调整为插件端数据目录下`project-log/${projectId}/${projectId}.log`
3. 项目控制台日志备份默认路径调整为插件端数据目录下`project-log/${projectId}/back/${projectId}-xxxxxxx.log`

---------

如果您自定义过 SSH 脚本默认那么您需要重新同步一下脚本模板`/exec/template.sh` -> `/ssh/template.sh`

新版本 `/exec/template.sh` 中仅在服务端中生效（本地构建脚本、服务端脚本、本地发布脚本）

------

- 【白名单】关键词统一调整为【授权】
- 【黑名单】关键词统一调整为【禁止】
- 部分【添加】关键词统一调整为【新增】

### 🤝致谢

感谢所有参与 2.11.0 beta 版本（2.11.0.0 ~ 2.11.0.13）内测的用户。

------